
(function(e){e.fn.camera=function(t,n){function i(){if(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)){return true}}function D(){var t=e(g).width();e("li",g).removeClass("camera_visThumb");e("li",g).each(function(){var n=e(this).position(),r=e("ul",g).outerWidth(),i=e("ul",g).offset().left,s=e("> div",g).offset().left,o=s-i;if(o>0){e(".camera_prevThumbs",J).removeClass("hideNav")}else{e(".camera_prevThumbs",J).addClass("hideNav")}if(r-o>t){e(".camera_nextThumbs",J).removeClass("hideNav")}else{e(".camera_nextThumbs",J).addClass("hideNav")}var u=n.left,a=n.left+e(this).width();if(a-o<=t&&u-o>=0){e(this).addClass("camera_visThumb")}})}function B(){function r(){b=s.width();if(t.height.indexOf("%")!=-1){var n=Math.round(b/(100/parseFloat(t.height)));if(t.minHeight!=""&&n<parseFloat(t.minHeight)){w=parseFloat(t.minHeight)}else{w=n}s.css({height:w})}else if(t.height=="auto"){w=s.height()}else{w=parseFloat(t.height);s.css({height:w})}e(".camerarelative",l).css({width:b,height:w});e(".imgLoaded",l).each(function(){var n=e(this),r=n.attr("width"),i=n.attr("height"),s=n.index(),o,u,a=n.attr("data-alignment"),f=n.attr("data-portrait");if(typeof a==="undefined"||a===false||a===""){a=t.alignment}if(typeof f==="undefined"||f===false||f===""){f=t.portrait}if(f==false||f=="false"){if(r/i<b/w){var l=b/r;var c=Math.abs(w-i*l)*.5;switch(a){case"topLeft":o=0;break;case"topCenter":o=0;break;case"topRight":o=0;break;case"centerLeft":o="-"+c+"px";break;case"center":o="-"+c+"px";break;case"centerRight":o="-"+c+"px";break;case"bottomLeft":o="-"+c*2+"px";break;case"bottomCenter":o="-"+c*2+"px";break;case"bottomRight":o="-"+c*2+"px";break}n.css({height:i*l,"margin-left":0,"margin-top":o,position:"absolute",visibility:"visible",width:b})}else{var l=w/i;var c=Math.abs(b-r*l)*.5;switch(a){case"topLeft":u=0;break;case"topCenter":u="-"+c+"px";break;case"topRight":u="-"+c*2+"px";break;case"centerLeft":u=0;break;case"center":u="-"+c+"px";break;case"centerRight":u="-"+c*2+"px";break;case"bottomLeft":u=0;break;case"bottomCenter":u="-"+c+"px";break;case"bottomRight":u="-"+c*2+"px";break}n.css({height:w,"margin-left":u,"margin-top":0,position:"absolute",visibility:"visible",width:r*l})}}else{if(r/i<b/w){var l=w/i;var c=Math.abs(b-r*l)*.5;switch(a){case"topLeft":u=0;break;case"topCenter":u=c+"px";break;case"topRight":u=c*2+"px";break;case"centerLeft":u=0;break;case"center":u=c+"px";break;case"centerRight":u=c*2+"px";break;case"bottomLeft":u=0;break;case"bottomCenter":u=c+"px";break;case"bottomRight":u=c*2+"px";break}n.css({height:w,"margin-left":u,"margin-top":0,position:"absolute",visibility:"visible",width:r*l})}else{var l=b/r;var c=Math.abs(w-i*l)*.5;switch(a){case"topLeft":o=0;break;case"topCenter":o=0;break;case"topRight":o=0;break;case"centerLeft":o=c+"px";break;case"center":o=c+"px";break;case"centerRight":o=c+"px";break;case"bottomLeft":o=c*2+"px";break;case"bottomCenter":o=c*2+"px";break;case"bottomRight":o=c*2+"px";break}n.css({height:i*l,"margin-left":0,"margin-top":o,position:"absolute",visibility:"visible",width:b})}}})}var n;if(P==true){clearTimeout(n);n=setTimeout(r,200)}else{r()}P=true}function Q(e){for(var t,n,r=e.length;r;t=parseInt(Math.random()*r),n=e[--r],e[r]=e[t],e[t]=n);return e}function G(e){return Math.ceil(e)==Math.floor(e)}function ut(){if(e(g).length&&!e(y).length){var t=e(g).outerWidth(),n=e("ul > li",g).outerWidth(),r=e("li.cameracurrent",g).length?e("li.cameracurrent",g).position():"",i=e("ul > li",g).length*e("ul > li",g).outerWidth(),o=e("ul",g).offset().left,u=e("> div",g).offset().left,a;if(o<0){a="-"+(u-o)}else{a=u-o}if(ot==true){e("ul",g).width(e("ul > li",g).length*e("ul > li",g).outerWidth());if(e(g).length&&!e(y).lenght){s.css({marginBottom:e(g).outerHeight()})}D();e("ul",g).width(e("ul > li",g).length*e("ul > li",g).outerWidth());if(e(g).length&&!e(y).lenght){s.css({marginBottom:e(g).outerHeight()})}}ot=false;var f=e("li.cameracurrent",g).length?r.left:"",l=e("li.cameracurrent",g).length?r.left+e("li.cameracurrent",g).outerWidth():"";if(f<e("li.cameracurrent",g).outerWidth()){f=0}if(l-a>t){if(f+t<i){e("ul",g).animate({"margin-left":"-"+f+"px"},500,D)}else{e("ul",g).animate({"margin-left":"-"+(e("ul",g).outerWidth()-t)+"px"},500,D)}}else if(f-a<0){e("ul",g).animate({"margin-left":"-"+f+"px"},500,D)}else{e("ul",g).css({"margin-left":"auto","margin-right":"auto"});setTimeout(D,100)}}}function at(){tt=0;var n=e(".camera_bar_cont",J).width(),r=e(".camera_bar_cont",J).height();if(u!="pie"){switch(V){case"leftToRight":e("#"+a).css({right:n});break;case"rightToLeft":e("#"+a).css({left:n});break;case"topToBottom":e("#"+a).css({bottom:r});break;case"bottomToTop":e("#"+a).css({top:r});break}}else{rt.clearRect(0,0,t.pieDiameter,t.pieDiameter)}}function ft(n){f.addClass("camerasliding");z=false;var r=parseFloat(e("div.cameraSlide.cameracurrent",l).index());if(n>0){var c=n-1}else i...){e(this).css({marginTop:"5px"}).hide()});e(".thumb_arrow",this).animate({"margin-top":"-20px",opacity:0},200,function(){e(this).css({marginTop:"5px"}).hide()})})}if(e(g).length){var st;if(!e(y).length){e(g).append("<div />");e(g).before('<div class="camera_prevThumbs hideNav"><div></div></div>').before('<div class="camera_nextThumbs hideNav"><div></div></div>');e("> div",g).append("<ul />");e.each(C,function(t,n){if(e("> div",f).eq(t).attr("data-thumb")!=""){var r=e("> div",f).eq(t).attr("data-thumb"),i=new Image;i.src=r;e("ul",g).append('<li class="pix_thumb pix_thumb_'+t+'" />');e("li.pix_thumb_"+t,g).append(e(i).attr("class","camera_thumb"))}})}else{e.each(C,function(t,n){if(e("> div",f).eq(t).attr("data-thumb")!=""){var r=e("> div",f).eq(t).attr("data-thumb"),i=new Image;i.src=r;e("li.pag_nav_"+t,y).append(e(i).attr("class","camera_thumb").css({position:"absolute"}).animate({opacity:0},0));e("li.pag_nav_"+t+" > img",y).after('<div class="thumb_arrow" />');e("li.pag_nav_"+t+" > .thumb_arrow",y).animate({opacity:0},0)}});s.css({marginBottom:e(y).outerHeight()})}}else if(!e(g).length&&e(y).length){s.css({marginBottom:e(y).outerHeight()})}var ot=true;if(e(m).length){e(m).append('<div class="camera_play"></div>').append('<div class="camera_stop"></div>');if(q==true){e(".camera_play",J).hide();e(".camera_stop",J).show()}else{e(".camera_stop",J).hide();e(".camera_play",J).show()}}at();e(".moveFromLeft, .moveFromRight, .moveFromTop, .moveFromBottom, .fadeIn, .fadeFromLeft, .fadeFromRight, .fadeFromTop, .fadeFromBottom",o).each(function(){e(this).css("visibility","hidden")});t.onStartLoading.call(this);ft();if(e(d).length){e(d).click(function(){if(!f.hasClass("camerasliding")){var n=parseFloat(e(".cameraSlide.cameracurrent",l).index());clearInterval(j);K();e("#"+a+", .camera_canvas_wrap",s).animate({opacity:0},0);at();if(n!=0){ft(n)}else{ft(k)}t.onStartLoading.call(this)}})}if(e(v).length){e(v).click(function(){if(!f.hasClass("camerasliding")){var n=parseFloat(e(".cameraSlide.cameracurrent",l).index());clearInterval(j);K();e("#"+a+", .camera_canvas_wrap",J).animate({opacity:0},0);at();if(n==k-1){ft(1)}else{ft(n+2)}t.onStartLoading.call(this)}})}if(i()){o.bind("swipeleft",function(n){if(!f.hasClass("camerasliding")){var r=parseFloat(e(".cameraSlide.cameracurrent",l).index());clearInterval(j);K();e("#"+a+", .camera_canvas_wrap",J).animate({opacity:0},0);at();if(r==k-1){ft(1)}else{ft(r+2)}t.onStartLoading.call(this)}});o.bind("swiperight",function(n){if(!f.hasClass("camerasliding")){var r=parseFloat(e(".cameraSlide.cameracurrent",l).index());clearInterval(j);K();e("#"+a+", .camera_canvas_wrap",J).animate({opacity:0},0);at();if(r!=0){ft(r)}else{ft(k)}t.onStartLoading.call(this)}})}if(e(y).length){e(".camera_pag li",s).click(function(){if(!f.hasClass("camerasliding")){var n=parseFloat(e(this).index());var r=parseFloat(e(".cameraSlide.cameracurrent",l).index());if(n!=r){clearInterval(j);K();e("#"+a+", .camera_canvas_wrap",J).animate({opacity:0},0);at();ft(n+1);t.onStartLoading.call(this)}}})}if(e(g).length){e(".pix_thumb img",g).click(function(){if(!f.hasClass("camerasliding")){var n=parseFloat(e(this).parents("li").index());var r=parseFloat(e(".cameracurrent",l).index());if(n!=r){clearInterval(j);K();e("#"+a+", .camera_canvas_wrap",J).animate({opacity:0},0);e(".pix_thumb",g).removeClass("cameracurrent");e(this).parents("li").addClass("cameracurrent");at();ft(n+1);ut();t.onStartLoading.call(this)}}});e(".camera_thumbs_cont .camera_prevThumbs",J).hover(function(){e(this).stop(true,false).animate({opacity:1},250)},function(){e(this).stop(true,false).animate({opacity:.7},250)});e(".camera_prevThumbs",J).click(function(){var t=0,n=e(g).outerWidth(),r=e("ul",g).offset().left,i=e("> div",g).offset().left,s=i-r;e(".camera_visThumb",g).each(function(){var n=e(this).outerWidth();t=t+n});if(s-t>0){e("ul",g).animate({"margin-left":"-"+(s-t)+"px"},500,D)}else{e("ul",g).animate({"margin-left":0},500,D)}});e(".camera_thumbs_cont .camera_nextThumbs",J).hover(function(){e(this).stop(true,false).animate({opacity:1},250)},function(){e(this).stop(true,false).animate({opacity:.7},250)});e(".camera_nextThumbs",J).click(function(){var t=0,n=e(g).outerWidth(),r=e("ul",g).outerWidth(),i=e("ul",g).offset().left,s=e("> div",g).offset().left,o=s-i;e(".camera_visThumb",g).each(function(){var n=e(this).outerWidth();t=t+n});if(o+t+t<r){e("ul",g).animate({"margin-left":"-"+(o+t)+"px"},500,D)}else{e("ul",g).animate({"margin-left":"-"+(r-n)+"px"},500,D)}})}}})(jQuery);(function(e){e.fn.cameraStop=function(){var t=e(this),n=e(".camera_src",t),r="pie_"+t.index();n.addClass("stopped");if(e(".camera_showcommands").length){var i=e(".camera_thumbs_wrap",t)}else{var i=t}}})(jQuery);(function(e){e.fn.cameraPause=function(){var t=e(this);var n=e(".camera_src",t);n.addClass("paused")}})(jQuery);(function(e){e.fn.cameraResume=function(){var t=e(this);var n=e(".camera_src",t);if(typeof autoAdv==="undefined"||autoAdv!==true){n.removeClass("paused")}}})(jQuery)
