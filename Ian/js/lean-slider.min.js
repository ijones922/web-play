
(function(e){e.fn.leanSlider=function(t){var n={pauseTime:4e3,pauseOnHover:true,startSlide:0,directionNav:"",directionNavPrevBuilder:"",directionNavNextBuilder:"",controlNav:"",controlNavBuilder:"",prevText:"Prev",nextText:"Next",beforeChange:function(){},afterChange:function(){},afterLoad:function(){}};var r=this,i={},s=e(this),o=s.children(),u=0,a=0;var f=function(){i=e.extend({},n,t);s.addClass("lean-slider");o.addClass("lean-slider-slide");u=i.startSlide;if(i.startSlide<0||i.startSlide>=o.length)u=0;e(o[u]).addClass("current");if(i.directionNav&&e(i.directionNav).length){var f=e('<a href="#" class="lean-slider-prev">'+i.prevText+"</a>"),h=e('<a href="#" class="lean-slider-next">'+i.nextText+"</a>");if(i.directionNavPrevBuilder)f=e(i.directionNavPrevBuilder.call(this,i.prevText));if(i.directionNavNextBuilder)h=e(i.directionNavNextBuilder.call(this,i.nextText));f.on("click",function(e){e.preventDefault();r.prev()});h.on("click",function(e){e.preventDefault();r.next()});e(i.directionNav).append(f);e(i.directionNav).append(h)}if(i.controlNav&&e(i.controlNav).length){o.each(function(t){var n=e('<a href="#" class="lean-slider-control-nav">'+(t+1)+"</a>");if(i.controlNavBuilder)n=e(i.controlNavBuilder.call(this,t,e(o[t])));n.on("click",function(e){e.preventDefault();r.show(t)});e(i.controlNav).append(n)})}if(i.pauseOnHover&&i.pauseTime&&i.pauseTime>0){s.hover(function(){clearTimeout(a)},function(){l()})}c();l();i.afterLoad.call(this);return r};var l=function(){if(i.pauseTime&&i.pauseTime>0){clearTimeout(a);a=setTimeout(function(){r.next()},i.pauseTime)}};var c=function(){if(i.controlNav){e(".lean-slider-control-nav",i.controlNav).removeClass("active");e(e(".lean-slider-control-nav",i.controlNav).get(u)).addClass("active")}};r.prev=function(){i.beforeChange.call(this,u);u--;if(u<0)u=o.length-1;o.removeClass("current");e(o[u]).addClass("current");c();l();i.afterChange.call(this,u)};r.next=function(){i.beforeChange.call(this,u);u++;if(u>=o.length)u=0;o.removeClass("current");e(o[u]).addClass("current");c();l();i.afterChange.call(this,u)};r.show=function(t){i.beforeChange.call(this,u);u=t;if(u<0)u=o.length-1;if(u>=o.length)u=0;o.removeClass("current");e(o[u]).addClass("current");c();l();i.afterChange.call(this,u)};return f()}})(jQuery)
